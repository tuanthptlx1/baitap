@model WebApplication1.Models.SanPham

@{
    ViewBag.Title = "Chỉnh sửa sản phẩm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="text-center mt-4">Chỉnh sửa sản phẩm</h2>

<div class="container mt-4">
    @using (Html.BeginForm("Edit", "SanPham", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.HiddenFor(m => m.ID)
        @Html.HiddenFor(m => m.HinhAnh)

        <div class="form-group mb-3">
            @Html.LabelFor(m => m.TenSanPham)
            @Html.TextBoxFor(m => m.TenSanPham, new { @class = "form-control", placeholder = "Nhập tên sản phẩm" })
        </div>

        <div class="form-group mb-3">
            @Html.LabelFor(m => m.MoTa)
            @Html.TextAreaFor(m => m.MoTa, new { @class = "form-control", rows = 3, placeholder = "Nhập mô tả sản phẩm" })
        </div>

        <div class="form-group mb-3">
            @Html.LabelFor(m => m.Gia)
            @Html.TextBoxFor(m => m.Gia, new { @class = "form-control", type = "number", step = "0.01", placeholder = "Nhập giá sản phẩm" })
        </div>

        <div class="form-group mb-3">
            @Html.LabelFor(m => m.HinhAnh)
            <input type="file" name="UploadHinhAnh" class="form-control" />
            @if (!string.IsNullOrEmpty(Model.HinhAnh))
            {
                <p>Ảnh hiện tại:</p>
                <img src="@Url.Content(Model.HinhAnh)" alt="Ảnh hiện tại" style="width: 100px; height: auto;" />
            }
        </div>

        <div class="form-group mb-4">
            @Html.LabelFor(m => m.IDDanhMuc, "Danh mục sản phẩm")
            @Html.DropDownListFor(m => m.IDDanhMuc, (SelectList)ViewBag.DanhMucID, "Chọn danh mục", new { @class = "form-control" })
        </div>

        <button type="submit" class="btn btn-success">Cập nhật</button>
        <a href="@Url.Action("Index", "SanPham")" class="btn btn-secondary">Quay lại</a>
    }
</div>
